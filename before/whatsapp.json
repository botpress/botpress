{
  "name": "whatsapp",
  "version": "4.5.1",
  "title": "WhatsApp",
  "description": "Send and receive messages through WhatsApp.",
  "user": {
    "tags": {
      "userId": {
        "title": "User ID",
        "description": "WhatsApp user ID"
      },
      "name": {
        "title": "Name",
        "description": "WhatsApp user display name"
      }
    }
  },
  "events": {
    "reactionAdded": {
      "title": "Reaction Added",
      "description": "Triggered when a user adds a reaction to a message",
      "schema": {
        "type": "object",
        "properties": {
          "reaction": {
            "type": "string",
            "description": "The reaction that was added",
            "x-zui": {
              "title": "Reaction"
            }
          },
          "messageId": {
            "type": "string",
            "description": "ID of the message that was reacted to",
            "x-zui": {
              "title": "Message ID"
            }
          },
          "userId": {
            "type": "string",
            "description": "ID of the user who added the reaction",
            "x-zui": {
              "title": "User ID"
            }
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation",
            "x-zui": {
              "title": "Conversation ID"
            }
          }
        },
        "required": ["reaction", "messageId"],
        "additionalProperties": false,
        "x-zui": {},
        "$schema": "http://json-schema.org/draft-07/schema#"
      }
    },
    "reactionRemoved": {
      "title": "Reaction Removed",
      "description": "Triggered when a user removes a reaction from a message",
      "schema": {
        "type": "object",
        "properties": {
          "reaction": {
            "type": "string",
            "description": "The reaction that was removed",
            "x-zui": {
              "title": "Reaction"
            }
          },
          "messageId": {
            "type": "string",
            "description": "ID of the message that was reacted to",
            "x-zui": {
              "title": "Message ID"
            }
          },
          "userId": {
            "type": "string",
            "description": "ID of the user who removed the reaction",
            "x-zui": {
              "title": "User ID"
            }
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation",
            "x-zui": {
              "title": "Conversation ID"
            }
          }
        },
        "required": ["reaction", "messageId"],
        "additionalProperties": false,
        "x-zui": {},
        "$schema": "http://json-schema.org/draft-07/schema#"
      }
    },
    "messageTemplateComponentsUpdate": {
      "title": "Message Template Components Update",
      "description": "Triggered when a template is edited",
      "schema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "Template ID.",
            "x-zui": {
              "title": "Template Id"
            }
          },
          "name": {
            "type": "string",
            "description": "Template name.",
            "x-zui": {
              "title": "Template Name"
            }
          },
          "language": {
            "type": "string",
            "description": "Template language and locale code.",
            "x-zui": {
              "title": "Template Language"
            }
          },
          "element": {
            "type": "string",
            "description": "Template body text.",
            "x-zui": {
              "title": "Template Body Text"
            }
          },
          "title": {
            "type": "string",
            "description": "Template Header Text.",
            "x-zui": {
              "title": "Template Header Text"
            }
          },
          "footer": {
            "type": "string",
            "description": "Template Footer Text.",
            "x-zui": {
              "title": "Template Footer Text"
            }
          },
          "buttons": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "button_type": {
                  "type": "string",
                  "enum": [
                    "CATALOG",
                    "COPY_CODE",
                    "EXTENSION",
                    "FLOW",
                    "MPM",
                    "ORDER_DETAILS",
                    "OTP",
                    "PHONE_NUMBER",
                    "POSTBACK",
                    "REMINDER",
                    "SEND_LOCATION",
                    "SPM",
                    "QUICK_REPLY",
                    "URL",
                    "VOICE_CALL"
                  ],
                  "description": "Button type.",
                  "x-zui": {
                    "title": "Button Type"
                  }
                },
                "button_text": {
                  "type": "string",
                  "description": "Button label text.",
                  "x-zui": {
                    "title": "Button Label Text"
                  }
                },
                "button_url": {
                  "type": "string",
                  "description": "Button URL.",
                  "x-zui": {
                    "title": "Button URL"
                  }
                },
                "button_phone_number": {
                  "type": "string",
                  "description": "Button phone number.",
                  "x-zui": {
                    "title": "Button Phone Number"
                  }
                }
              },
              "required": ["button_type", "button_text"],
              "additionalProperties": false,
              "x-zui": {}
            },
            "description": "Array of button objects, if present.",
            "x-zui": {
              "title": "Buttons"
            }
          }
        },
        "required": ["id", "name", "language", "element"],
        "additionalProperties": false,
        "description": "The message_template_components_update webhook notifies you of changes to a template's components.",
        "x-zui": {
          "title": "Message Template Components Update"
        },
        "$schema": "http://json-schema.org/draft-07/schema#"
      }
    },
    "messageTemplateQualityUpdate": {
      "title": "Message Template Quality Update",
      "description": "Triggered when a template's quality score changes",
      "schema": {
        "type": "object",
        "properties": {
          "previous_quality_score": {
            "type": "string",
            "enum": ["GREEN", "RED", "YELLOW", "UNKNOWN"],
            "description": "Previous template quality score.",
            "x-zui": {
              "title": "Previous Quality Score"
            }
          },
          "new_quality_score": {
            "type": "string",
            "enum": ["GREEN", "RED", "YELLOW", "UNKNOWN"],
            "description": "New template quality score.",
            "x-zui": {
              "title": "New Quality Score"
            }
          },
          "id": {
            "type": "number",
            "description": "Template ID.",
            "x-zui": {
              "title": "Template Id"
            }
          },
          "name": {
            "type": "string",
            "description": "Template name.",
            "x-zui": {
              "title": "Template Name"
            }
          },
          "language": {
            "type": "string",
            "description": "Template language and locale code.",
            "x-zui": {
              "title": "Template Language"
            }
          }
        },
        "required": ["previous_quality_score", "new_quality_score", "id", "name", "language"],
        "additionalProperties": false,
        "description": "The message_template_quality_update webhook notifies you of changes to a template's quality score.",
        "x-zui": {
          "title": "Message Template Quality Update"
        },
        "$schema": "http://json-schema.org/draft-07/schema#"
      }
    },
    "messageTemplateStatusUpdate": {
      "title": "Message Template Status Update",
      "description": "Triggered when a template is approved, rejected or disabled",
      "schema": {
        "type": "object",
        "properties": {
          "event": {
            "type": "string",
            "enum": [
              "APPROVED",
              "ARCHIVED",
              "DELETED",
              "DISABLED",
              "FLAGGED",
              "IN_APPEAL",
              "LIMIT_EXCEEDED",
              "LOCKED",
              "PAUSED",
              "PENDING",
              "REINSTATED",
              "PENDING_DELETION",
              "REJECTED"
            ],
            "description": "Template status event.",
            "x-zui": {
              "title": "Template Status Event"
            }
          },
          "id": {
            "type": "number",
            "description": "Template ID.",
            "x-zui": {
              "title": "Template Id"
            }
          },
          "name": {
            "type": "string",
            "description": "Template name.",
            "x-zui": {
              "title": "Template Name"
            }
          },
          "language": {
            "type": "string",
            "description": "Language and locale code.",
            "x-zui": {
              "title": "Template Language"
            }
          },
          "reason": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "ABUSIVE_CONTENT",
                  "CATEGORY_NOT_AVAILABLE",
                  "INCORRECT_CATEGORY",
                  "INVALID_FORMAT",
                  "NONE",
                  "PROMOTIONAL",
                  "SCAM",
                  "TAG_CONTENT_MISMATCH"
                ],
                "description": "Template rejection reason, if rejected.",
                "x-zui": {
                  "title": "Rejection Reason"
                }
              },
              {
                "type": "null"
              }
            ],
            "description": "Template rejection reason, if rejected.",
            "x-zui": {
              "title": "Rejection Reason"
            }
          },
          "disable_info": {
            "type": "object",
            "properties": {
              "disable_date": {
                "type": "number",
                "description": "Unix timestamp indicating when the template was disabled.",
                "x-zui": {
                  "title": "Disable Timestamp"
                }
              }
            },
            "required": ["disable_date"],
            "additionalProperties": false,
            "description": "only included if template disabled",
            "x-zui": {
              "title": "Disable Info"
            }
          },
          "other_info": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "enum": ["FIRST_PAUSE", "SECOND_PAUSE", "RATE_LIMITING_PAUSE", "UNPAUSE", "DISABLED"],
                "description": "Title of template pause or unpause event.",
                "x-zui": {
                  "title": "Title"
                }
              },
              "description": {
                "type": "string",
                "description": "String describing why the template was locked or unlocked.",
                "x-zui": {
                  "title": "Description"
                }
              }
            },
            "required": ["title", "description"],
            "additionalProperties": false,
            "description": "only included if template locked or unlocked",
            "x-zui": {
              "title": "Other Info"
            }
          }
        },
        "required": ["event", "id", "name", "language", "reason"],
        "additionalProperties": false,
        "description": "The message_template_status_update webhook notifies you of changes to the status of an existing template.",
        "x-zui": {
          "title": "Message Template Status Update"
        },
        "$schema": "http://json-schema.org/draft-07/schema#"
      }
    },
    "templateCategoryUpdate": {
      "title": "Template Category Update",
      "description": "Triggered when the category of a WhatsApp template is changed â€” whether manually or by an automated process, or when such a change is about to occur.",
      "schema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "Template ID.",
            "x-zui": {
              "title": "Template Id"
            }
          },
          "name": {
            "type": "string",
            "description": "Template name.",
            "x-zui": {
              "title": "Template Name"
            }
          },
          "language": {
            "type": "string",
            "description": "Template language and locale code.",
            "x-zui": {
              "title": "Template Language"
            }
          },
          "correct_category": {
            "type": "string",
            "description": "The category that the template will be recategorized as in 24 hours.",
            "x-zui": {
              "title": "Correct Category"
            }
          },
          "previous_category": {
            "type": "string",
            "description": "The template's previous category.",
            "x-zui": {
              "title": "Previous Category"
            }
          },
          "new_category": {
            "type": "string",
            "description": "The template's new category.",
            "x-zui": {
              "title": "New Category"
            }
          }
        },
        "required": ["id", "name", "language"],
        "additionalProperties": false,
        "description": "The template_category_update webhook notifies you of changes to template's category.",
        "x-zui": {
          "title": "Template Category Update"
        },
        "$schema": "http://json-schema.org/draft-07/schema#"
      }
    }
  },
  "actions": {
    "startConversation": {
      "title": "Start Conversation",
      "description": "Proactively starts a conversation with a WhatsApp user by sending them a message using a WhatsApp Message Template",
      "input": {
        "schema": {
          "type": "object",
          "properties": {
            "conversation": {
              "type": "object",
              "properties": {
                "userPhone": {
                  "type": "string",
                  "minLength": 1,
                  "description": "Phone number of the WhatsApp user to start a conversation with",
                  "x-zui": {
                    "title": "User Phone Number"
                  }
                },
                "templateName": {
                  "type": "string",
                  "minLength": 1,
                  "description": "Name of the WhatsApp Message Template to start the conversation with",
                  "x-zui": {
                    "title": "Message Template name"
                  }
                },
                "templateLanguage": {
                  "type": "string",
                  "description": "Language of the WhatsApp Message Template to start the conversation with. Defaults to \"en\" (English)",
                  "x-zui": {
                    "title": "Message Template language"
                  }
                },
                "templateVariablesJson": {
                  "type": "string",
                  "description": "JSON array representation of variable values to pass to the WhatsApp Message Template (if required by the template)",
                  "x-zui": {
                    "title": "Message Template variables"
                  }
                },
                "botPhoneNumberId": {
                  "type": "string",
                  "description": "Phone number ID to use as sender (uses the default phone number ID if not provided)",
                  "x-zui": {
                    "title": "Bot Phone Number ID"
                  }
                }
              },
              "required": ["userPhone", "templateName"],
              "additionalProperties": false,
              "description": "Details of the conversation",
              "x-zui": {
                "title": "Conversation Details"
              }
            }
          },
          "required": ["conversation"],
          "additionalProperties": false,
          "x-zui": {},
          "$schema": "http://json-schema.org/draft-07/schema#"
        }
      },
      "output": {
        "schema": {
          "type": "object",
          "properties": {
            "conversationId": {
              "type": "string",
              "description": "The Botpress ID of the created conversation",
              "x-zui": {
                "title": "Conversation ID"
              }
            }
          },
          "required": ["conversationId"],
          "additionalProperties": false,
          "x-zui": {},
          "$schema": "http://json-schema.org/draft-07/schema#"
        }
      },
      "name": "startConversation"
    },
    "sendTemplateMessage": {
      "title": "Send Template Message",
      "description": "Sends a WhatsApp Message Template to a user in an existing conversation",
      "input": {
        "schema": {
          "type": "object",
          "properties": {
            "conversation": {
              "type": "object",
              "properties": {
                "userPhone": {
                  "type": "string",
                  "minLength": 1,
                  "description": "Phone number of the WhatsApp user to start a conversation with",
                  "x-zui": {
                    "title": "User Phone Number"
                  }
                },
                "templateName": {
                  "type": "string",
                  "minLength": 1,
                  "description": "Name of the WhatsApp Message Template to start the conversation with",
                  "x-zui": {
                    "title": "Message Template name"
                  }
                },
                "templateLanguage": {
                  "type": "string",
                  "description": "Language of the WhatsApp Message Template to start the conversation with. Defaults to \"en\" (English)",
                  "x-zui": {
                    "title": "Message Template language"
                  }
                },
                "templateVariablesJson": {
                  "type": "string",
                  "description": "JSON array representation of variable values to pass to the WhatsApp Message Template (if required by the template)",
                  "x-zui": {
                    "title": "Message Template variables"
                  }
                },
                "botPhoneNumberId": {
                  "type": "string",
                  "description": "Phone number ID to use as sender (uses the default phone number ID if not provided)",
                  "x-zui": {
                    "title": "Bot Phone Number ID"
                  }
                }
              },
              "required": ["userPhone", "templateName"],
              "additionalProperties": false,
              "description": "Details of the conversation",
              "x-zui": {
                "title": "Conversation Details"
              }
            }
          },
          "required": ["conversation"],
          "additionalProperties": false,
          "x-zui": {},
          "$schema": "http://json-schema.org/draft-07/schema#"
        }
      },
      "output": {
        "schema": {
          "type": "object",
          "properties": {
            "conversationId": {
              "type": "string",
              "description": "ID of the conversation created",
              "x-zui": {
                "title": "Conversation ID"
              }
            }
          },
          "required": ["conversationId"],
          "additionalProperties": false,
          "x-zui": {},
          "$schema": "http://json-schema.org/draft-07/schema#"
        }
      }
    },
    "startTypingIndicator": {
      "input": {
        "schema": {
          "type": "object",
          "properties": {
            "conversationId": {
              "type": "string",
              "x-zui": {}
            },
            "messageId": {
              "type": "string",
              "description": "The message ID to which the typing indicator should be attached",
              "x-zui": {}
            },
            "timeout": {
              "type": "number",
              "description": "The timeout in milliseconds after which the typing indicator should stop",
              "x-zui": {}
            }
          },
          "required": ["conversationId", "messageId"],
          "additionalProperties": false,
          "x-zui": {},
          "$schema": "http://json-schema.org/draft-07/schema#"
        }
      },
      "output": {
        "schema": {
          "type": "object",
          "properties": {},
          "additionalProperties": false,
          "x-zui": {},
          "$schema": "http://json-schema.org/draft-07/schema#"
        }
      },
      "attributes": {
        "bpActionHiddenInStudio": "true"
      }
    },
    "stopTypingIndicator": {
      "input": {
        "schema": {
          "type": "object",
          "properties": {
            "conversationId": {
              "type": "string",
              "x-zui": {}
            },
            "messageId": {
              "type": "string",
              "description": "The message ID from which the typing indicator should be removed",
              "x-zui": {}
            }
          },
          "required": ["conversationId", "messageId"],
          "additionalProperties": false,
          "x-zui": {},
          "$schema": "http://json-schema.org/draft-07/schema#"
        }
      },
      "output": {
        "schema": {
          "type": "object",
          "properties": {},
          "additionalProperties": false,
          "x-zui": {},
          "$schema": "http://json-schema.org/draft-07/schema#"
        }
      },
      "attributes": {
        "bpActionHiddenInStudio": "true"
      }
    }
  },
  "channels": {
    "channel": {
      "title": "WhatsApp conversation",
      "description": "Conversation between a WhatsApp user and the bot",
      "messages": {
        "text": {
          "schema": {
            "type": "object",
            "properties": {
              "text": {
                "type": "string",
                "minLength": 1,
                "x-zui": {}
              },
              "value": {
                "type": "string",
                "description": "Underlying value of the message, if any (e.g. button payload, list reply payload, etc.)",
                "x-zui": {
                  "title": "value"
                }
              }
            },
            "required": ["text"],
            "additionalProperties": false,
            "x-zui": {},
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        "image": {
          "schema": {
            "type": "object",
            "properties": {
              "imageUrl": {
                "type": "string",
                "minLength": 1,
                "x-zui": {}
              }
            },
            "required": ["imageUrl"],
            "additionalProperties": false,
            "x-zui": {},
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        "audio": {
          "schema": {
            "type": "object",
            "properties": {
              "audioUrl": {
                "type": "string",
                "minLength": 1,
                "x-zui": {}
              }
            },
            "required": ["audioUrl"],
            "additionalProperties": false,
            "x-zui": {},
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        "video": {
          "schema": {
            "type": "object",
            "properties": {
              "videoUrl": {
                "type": "string",
                "minLength": 1,
                "x-zui": {}
              }
            },
            "required": ["videoUrl"],
            "additionalProperties": false,
            "x-zui": {},
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        "file": {
          "schema": {
            "type": "object",
            "properties": {
              "fileUrl": {
                "type": "string",
                "minLength": 1,
                "x-zui": {}
              },
              "title": {
                "x-zui": {},
                "type": "string",
                "minLength": 1
              },
              "filename": {
                "type": "string",
                "x-zui": {}
              }
            },
            "required": ["fileUrl"],
            "additionalProperties": false,
            "x-zui": {},
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        "location": {
          "schema": {
            "type": "object",
            "properties": {
              "latitude": {
                "type": "number",
                "x-zui": {}
              },
              "longitude": {
                "type": "number",
                "x-zui": {}
              },
              "address": {
                "type": "string",
                "x-zui": {}
              },
              "title": {
                "type": "string",
                "x-zui": {}
              }
            },
            "required": ["latitude", "longitude"],
            "additionalProperties": false,
            "x-zui": {},
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        "carousel": {
          "schema": {
            "type": "object",
            "properties": {
              "items": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "title": {
                      "type": "string",
                      "minLength": 1,
                      "x-zui": {}
                    },
                    "subtitle": {
                      "x-zui": {},
                      "type": "string",
                      "minLength": 1
                    },
                    "imageUrl": {
                      "x-zui": {},
                      "type": "string",
                      "minLength": 1
                    },
                    "actions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "action": {
                            "type": "string",
                            "enum": ["postback", "url", "say"],
                            "x-zui": {}
                          },
                          "label": {
                            "type": "string",
                            "minLength": 1,
                            "x-zui": {}
                          },
                          "value": {
                            "type": "string",
                            "minLength": 1,
                            "x-zui": {}
                          }
                        },
                        "required": ["action", "label", "value"],
                        "additionalProperties": false,
                        "x-zui": {}
                      },
                      "x-zui": {}
                    }
                  },
                  "required": ["title", "actions"],
                  "additionalProperties": false,
                  "x-zui": {}
                },
                "x-zui": {}
              }
            },
            "required": ["items"],
            "additionalProperties": false,
            "x-zui": {},
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        "card": {
          "schema": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "minLength": 1,
                "x-zui": {}
              },
              "subtitle": {
                "x-zui": {},
                "type": "string",
                "minLength": 1
              },
              "imageUrl": {
                "x-zui": {},
                "type": "string",
                "minLength": 1
              },
              "actions": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "action": {
                      "type": "string",
                      "enum": ["postback", "url", "say"],
                      "x-zui": {}
                    },
                    "label": {
                      "type": "string",
                      "minLength": 1,
                      "x-zui": {}
                    },
                    "value": {
                      "type": "string",
                      "minLength": 1,
                      "x-zui": {}
                    }
                  },
                  "required": ["action", "label", "value"],
                  "additionalProperties": false,
                  "x-zui": {}
                },
                "x-zui": {}
              }
            },
            "required": ["title", "actions"],
            "additionalProperties": false,
            "x-zui": {},
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        "dropdown": {
          "schema": {
            "type": "object",
            "properties": {
              "text": {
                "type": "string",
                "minLength": 1,
                "x-zui": {}
              },
              "options": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "label": {
                      "type": "string",
                      "minLength": 1,
                      "x-zui": {}
                    },
                    "value": {
                      "type": "string",
                      "minLength": 1,
                      "x-zui": {}
                    }
                  },
                  "required": ["label", "value"],
                  "additionalProperties": false,
                  "x-zui": {}
                },
                "x-zui": {}
              },
              "buttonLabel": {
                "type": "string",
                "maxLength": 20,
                "description": "Label for the dropdown button",
                "x-zui": {
                  "title": "Button Label"
                }
              }
            },
            "required": ["text", "options"],
            "additionalProperties": false,
            "x-zui": {},
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        "choice": {
          "schema": {
            "type": "object",
            "properties": {
              "text": {
                "type": "string",
                "minLength": 1,
                "x-zui": {}
              },
              "options": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "label": {
                      "type": "string",
                      "minLength": 1,
                      "x-zui": {}
                    },
                    "value": {
                      "type": "string",
                      "minLength": 1,
                      "x-zui": {}
                    }
                  },
                  "required": ["label", "value"],
                  "additionalProperties": false,
                  "x-zui": {}
                },
                "x-zui": {}
              },
              "buttonLabel": {
                "type": "string",
                "maxLength": 20,
                "description": "Label for the dropdown button",
                "x-zui": {
                  "title": "Button Label"
                }
              }
            },
            "required": ["text", "options"],
            "additionalProperties": false,
            "x-zui": {},
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        "bloc": {
          "schema": {
            "type": "object",
            "properties": {
              "items": {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "text",
                          "x-zui": {}
                        },
                        "payload": {
                          "type": "object",
                          "properties": {
                            "text": {
                              "type": "string",
                              "x-zui": {}
                            }
                          },
                          "required": ["text"],
                          "additionalProperties": false,
                          "x-zui": {}
                        }
                      },
                      "required": ["type", "payload"],
                      "additionalProperties": false,
                      "x-zui": {}
                    },
                    {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "markdown",
                          "x-zui": {}
                        },
                        "payload": {
                          "type": "object",
                          "properties": {
                            "markdown": {
                              "type": "string",
                              "x-zui": {}
                            }
                          },
                          "required": ["markdown"],
                          "additionalProperties": false,
                          "x-zui": {}
                        }
                      },
                      "required": ["type", "payload"],
                      "additionalProperties": false,
                      "x-zui": {}
                    },
                    {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "image",
                          "x-zui": {}
                        },
                        "payload": {
                          "type": "object",
                          "properties": {
                            "imageUrl": {
                              "type": "string",
                              "x-zui": {}
                            }
                          },
                          "required": ["imageUrl"],
                          "additionalProperties": false,
                          "x-zui": {}
                        }
                      },
                      "required": ["type", "payload"],
                      "additionalProperties": false,
                      "x-zui": {}
                    },
                    {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "audio",
                          "x-zui": {}
                        },
                        "payload": {
                          "type": "object",
                          "properties": {
                            "audioUrl": {
                              "type": "string",
                              "x-zui": {}
                            }
                          },
                          "required": ["audioUrl"],
                          "additionalProperties": false,
                          "x-zui": {}
                        }
                      },
                      "required": ["type", "payload"],
                      "additionalProperties": false,
                      "x-zui": {}
                    },
                    {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "video",
                          "x-zui": {}
                        },
                        "payload": {
                          "type": "object",
                          "properties": {
                            "videoUrl": {
                              "type": "string",
                              "x-zui": {}
                            }
                          },
                          "required": ["videoUrl"],
                          "additionalProperties": false,
                          "x-zui": {}
                        }
                      },
                      "required": ["type", "payload"],
                      "additionalProperties": false,
                      "x-zui": {}
                    },
                    {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "file",
                          "x-zui": {}
                        },
                        "payload": {
                          "type": "object",
                          "properties": {
                            "fileUrl": {
                              "type": "string",
                              "x-zui": {}
                            },
                            "title": {
                              "type": "string",
                              "x-zui": {}
                            },
                            "filename": {
                              "type": "string",
                              "x-zui": {}
                            }
                          },
                          "required": ["fileUrl"],
                          "additionalProperties": false,
                          "x-zui": {}
                        }
                      },
                      "required": ["type", "payload"],
                      "additionalProperties": false,
                      "x-zui": {}
                    },
                    {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "location",
                          "x-zui": {}
                        },
                        "payload": {
                          "type": "object",
                          "properties": {
                            "latitude": {
                              "type": "number",
                              "x-zui": {}
                            },
                            "longitude": {
                              "type": "number",
                              "x-zui": {}
                            },
                            "address": {
                              "type": "string",
                              "x-zui": {}
                            },
                            "title": {
                              "type": "string",
                              "x-zui": {}
                            }
                          },
                          "required": ["latitude", "longitude"],
                          "additionalProperties": false,
                          "x-zui": {}
                        }
                      },
                      "required": ["type", "payload"],
                      "additionalProperties": false,
                      "x-zui": {}
                    }
                  ],
                  "x-zui": {}
                },
                "x-zui": {}
              }
            },
            "required": ["items"],
            "additionalProperties": false,
            "x-zui": {},
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        }
      },
      "message": {
        "tags": {
          "id": {
            "title": "Message ID",
            "description": "The WhatsApp message ID"
          },
          "reaction": {
            "title": "Reaction",
            "description": "A reaction added to the message"
          },
          "replyTo": {
            "title": "Reply To",
            "description": "The ID of the message that this message is a reply to"
          }
        }
      },
      "conversation": {
        "tags": {
          "botPhoneNumberId": {
            "title": "Bot Phone Number ID",
            "description": "WhatsApp Phone Number ID of the bot"
          },
          "userPhone": {
            "title": "User Phone Number",
            "description": "Phone number of the WhatsApp user having a conversation with the bot."
          }
        }
      }
    }
  },
  "states": {
    "credentials": {
      "type": "integration",
      "schema": {
        "type": "object",
        "properties": {
          "accessToken": {
            "type": "string",
            "description": "Access token used to authenticate requests to the WhatsApp Business Platform API",
            "x-zui": {
              "title": "Access token"
            }
          },
          "defaultBotPhoneNumberId": {
            "type": "string",
            "description": "Default Phone ID used by the bot for starting conversations",
            "x-zui": {
              "title": "Default Bot Phone Number ID"
            }
          },
          "wabaId": {
            "type": "string",
            "description": "WhatsApp Business Account ID used to subscribe to webhook events",
            "x-zui": {
              "title": "WhatsApp Business Account ID"
            }
          }
        },
        "additionalProperties": false,
        "x-zui": {},
        "$schema": "http://json-schema.org/draft-07/schema#"
      }
    }
  },
  "entities": {
    "proactiveConversation": {
      "title": "Proactive Conversation",
      "description": "Proactive conversation with a WhatsApp user",
      "schema": {
        "type": "object",
        "properties": {
          "userPhone": {
            "type": "string",
            "minLength": 1,
            "description": "Phone number of the WhatsApp user to start a conversation with",
            "x-zui": {
              "title": "User Phone Number"
            }
          },
          "templateName": {
            "type": "string",
            "minLength": 1,
            "description": "Name of the WhatsApp Message Template to start the conversation with",
            "x-zui": {
              "title": "Message Template name"
            }
          },
          "templateLanguage": {
            "type": "string",
            "description": "Language of the WhatsApp Message Template to start the conversation with. Defaults to \"en\" (English)",
            "x-zui": {
              "title": "Message Template language"
            }
          },
          "templateVariablesJson": {
            "type": "string",
            "description": "JSON array representation of variable values to pass to the WhatsApp Message Template (if required by the template)",
            "x-zui": {
              "title": "Message Template variables"
            }
          },
          "botPhoneNumberId": {
            "type": "string",
            "description": "Phone number ID to use as sender (uses the default phone number ID if not provided)",
            "x-zui": {
              "title": "Bot Phone Number ID"
            }
          }
        },
        "required": ["userPhone", "templateName"],
        "additionalProperties": false,
        "description": "Details of the conversation",
        "x-zui": {
          "title": "Conversation Details"
        },
        "$schema": "http://json-schema.org/draft-07/schema#"
      }
    }
  },
  "interfaces": {
    "typing-indicator": {
      "id": "",
      "name": "typing-indicator",
      "version": "0.0.3",
      "entities": {},
      "actions": {
        "startTypingIndicator": {
          "name": "startTypingIndicator"
        },
        "stopTypingIndicator": {
          "name": "stopTypingIndicator"
        }
      },
      "events": {},
      "channels": {}
    },
    "proactive-conversation<proactiveConversation>": {
      "id": "",
      "name": "proactive-conversation",
      "version": "0.0.3",
      "entities": {
        "conversation": {
          "name": "proactiveConversation"
        }
      },
      "actions": {
        "getOrCreateConversation": {
          "name": "startConversation"
        }
      },
      "events": {},
      "channels": {}
    }
  }
}
