{
  "name": "textToImage",
  "version": "2.1.0",
  "entities": {
    "imageModelRef": {
      "schema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          }
        },
        "required": ["id"],
        "additionalProperties": false
      }
    },
    "imageGenerationParams": {
      "schema": {
        "type": "object",
        "properties": {},
        "additionalProperties": false,
        "description": "Model-specific parameters for image generation"
      }
    }
  },
  "events": {},
  "actions": {
    "generateImage": {
      "billable": true,
      "cacheable": true,
      "input": {
        "schema": {
          "type": "object",
          "properties": {
            "model": {
              "$ref": "imageModelRef",

              "description": "Model to use for image generation"
            },
            "prompt": {
              "type": "string"
            },
            "size": {
              "type": "string"
            },
            "expiration": {
              "type": "integer",
              "minimum": 30,
              "maximum": 90,

              "description": "Expiration of the generated image in days, after which the image will be automatically deleted to free up storage space in your account. The default is to keep the image indefinitely (no expiration). The minimum is 30 days and the maximum is 90 days."
            },
            "params": {
              "$ref": "imageGenerationParams"
            }
          },
          "required": ["prompt"],
          "additionalProperties": false
        }
      },
      "output": {
        "schema": {
          "type": "object",
          "properties": {
            "model": {
              "type": "string",
              "description": "Model name used"
            },
            "imageUrl": {
              "type": "string",
              "description": "Temporary URL of generated image"
            },
            "cost": {
              "type": "number",
              "description": "Cost of the image generation, in U.S. dollars (DEPRECATED)"
            },
            "botpress": {
              "type": "object",
              "properties": {
                "cost": {
                  "type": "number",
                  "description": "Cost of the image generation, in U.S. dollars"
                }
              },
              "required": ["cost"],
              "additionalProperties": false
            }
          },
          "required": ["model", "imageUrl", "cost", "botpress"],
          "additionalProperties": false
        }
      }
    },
    "listImageModels": {
      "input": {
        "schema": {
          "type": "object",
          "properties": {},
          "additionalProperties": false
        }
      },
      "output": {
        "schema": {
          "type": "object",
          "properties": {
            "models": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "costPerImage": {
                        "type": "number",
                        "description": "Cost per image generation, in U.S. dollars"
                      },
                      "sizes": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Available image sizes"
                      },
                      "defaultSize": {
                        "type": "string",
                        "description": "Default image size generated by model"
                      }
                    },
                    "required": ["id", "name", "costPerImage", "sizes", "defaultSize"]
                  },
                  {
                    "$ref": "imageModelRef"
                  }
                ]
              }
            }
          },
          "required": ["models"],
          "additionalProperties": false
        }
      }
    }
  },
  "channels": {}
}
