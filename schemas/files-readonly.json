{
  "name": "files-readonly",
  "version": "0.2.0",
  "entities": {},
  "events": {
    "fileCreated": {
      "schema": {
        "type": "object",
        "properties": {
          "file": {
            "type": "object",
            "description": "The created file",
            "properties": {
              "id": {
                "type": "string",
                "description": "The file's ID. This could be a unique identifier from the external service, or a relative or absolute path, so long as it's unique.",
                "x-zui": {}
              },
              "type": {
                "type": "string",
                "const": "file",
                "x-zui": {}
              },
              "name": {
                "type": "string",
                "description": "The file's name. This will be displayed in the Botpress UI and be used as the file's name on Files API.\"",
                "x-zui": {}
              },
              "parentId": {
                "type": "string",
                "x-zui": {}
              },
              "absolutePath": {
                "type": "string",
                "description": "The full path of the file",
                "x-zui": {}
              },
              "sizeInBytes": {
                "type": "number",
                "x-zui": {}
              },
              "lastModifiedDate": {
                "type": "string",
                "x-zui": {
                  "precision": null,
                  "offset": false
                },
                "format": "date-time",
                "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$"
              },
              "contentHash": {
                "type": "string",
                "x-zui": {}
              }
            },
            "required": [
              "id",
              "type",
              "name",
              "absolutePath"
            ],
            "x-zui": {}
          }
        },
        "required": [
          "file"
        ],
        "x-zui": {}
      }
    },
    "fileUpdated": {
      "schema": {
        "type": "object",
        "properties": {
          "file": {
            "type": "object",
            "description": "The updated file",
            "properties": {
              "id": {
                "type": "string",
                "description": "The file's ID. This could be a unique identifier from the external service, or a relative or absolute path, so long as it's unique.",
                "x-zui": {}
              },
              "type": {
                "type": "string",
                "const": "file",
                "x-zui": {}
              },
              "name": {
                "type": "string",
                "description": "The file's name. This will be displayed in the Botpress UI and be used as the file's name on Files API.\"",
                "x-zui": {}
              },
              "parentId": {
                "type": "string",
                "x-zui": {}
              },
              "absolutePath": {
                "type": "string",
                "description": "The full path of the file",
                "x-zui": {}
              },
              "sizeInBytes": {
                "type": "number",
                "x-zui": {}
              },
              "lastModifiedDate": {
                "type": "string",
                "x-zui": {
                  "precision": null,
                  "offset": false
                },
                "format": "date-time",
                "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$"
              },
              "contentHash": {
                "type": "string",
                "x-zui": {}
              }
            },
            "required": [
              "id",
              "type",
              "name",
              "absolutePath"
            ],
            "x-zui": {}
          }
        },
        "required": [
          "file"
        ],
        "x-zui": {}
      }
    },
    "fileDeleted": {
      "schema": {
        "type": "object",
        "properties": {
          "file": {
            "type": "object",
            "description": "The deleted file",
            "properties": {
              "id": {
                "type": "string",
                "description": "The file's ID. This could be a unique identifier from the external service, or a relative or absolute path, so long as it's unique.",
                "x-zui": {}
              },
              "type": {
                "type": "string",
                "const": "file",
                "x-zui": {}
              },
              "name": {
                "type": "string",
                "description": "The file's name. This will be displayed in the Botpress UI and be used as the file's name on Files API.\"",
                "x-zui": {}
              },
              "parentId": {
                "type": "string",
                "x-zui": {}
              },
              "absolutePath": {
                "type": "string",
                "description": "The full path of the file",
                "x-zui": {}
              },
              "sizeInBytes": {
                "type": "number",
                "x-zui": {}
              },
              "lastModifiedDate": {
                "type": "string",
                "x-zui": {
                  "precision": null,
                  "offset": false
                },
                "format": "date-time",
                "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$"
              },
              "contentHash": {
                "type": "string",
                "x-zui": {}
              }
            },
            "required": [
              "id",
              "type",
              "name",
              "absolutePath"
            ],
            "x-zui": {}
          }
        },
        "required": [
          "file"
        ],
        "x-zui": {}
      }
    },
    "folderDeletedRecursive": {
      "schema": {
        "type": "object",
        "properties": {
          "folder": {
            "type": "object",
            "description": "The deleted folder",
            "properties": {
              "id": {
                "type": "string",
                "description": "The folder's ID. This could be a unique identifier from the external service, or a relative or absolute path, so long as it's unique.",
                "x-zui": {}
              },
              "type": {
                "type": "string",
                "const": "folder",
                "x-zui": {}
              },
              "name": {
                "type": "string",
                "description": "The folder's name. This will be displayed in the Botpress UI and be used as the folder's name on Files API.\"",
                "x-zui": {}
              },
              "parentId": {
                "type": "string",
                "x-zui": {}
              },
              "absolutePath": {
                "type": "string",
                "description": "The full path of the folder",
                "x-zui": {}
              }
            },
            "required": [
              "id",
              "type",
              "name",
              "absolutePath"
            ],
            "x-zui": {}
          }
        },
        "required": [
          "folder"
        ],
        "x-zui": {}
      }
    },
    "aggregateFileChanges": {
      "schema": {
        "type": "object",
        "properties": {
          "modifiedItems": {
            "type": "object",
            "description": "The modified items",
            "properties": {
              "created": {
                "type": "array",
                "description": "The files created",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "The file's ID. This could be a unique identifier from the external service, or a relative or absolute path, so long as it's unique.",
                      "x-zui": {}
                    },
                    "type": {
                      "type": "string",
                      "const": "file",
                      "x-zui": {}
                    },
                    "name": {
                      "type": "string",
                      "description": "The file's name. This will be displayed in the Botpress UI and be used as the file's name on Files API.\"",
                      "x-zui": {}
                    },
                    "parentId": {
                      "type": "string",
                      "x-zui": {}
                    },
                    "absolutePath": {
                      "type": "string",
                      "description": "The full path of the file",
                      "x-zui": {}
                    },
                    "sizeInBytes": {
                      "type": "number",
                      "x-zui": {}
                    },
                    "lastModifiedDate": {
                      "type": "string",
                      "x-zui": {
                        "precision": null,
                        "offset": false
                      },
                      "format": "date-time",
                      "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$"
                    },
                    "contentHash": {
                      "type": "string",
                      "x-zui": {}
                    }
                  },
                  "required": [
                    "id",
                    "type",
                    "name",
                    "absolutePath"
                  ],
                  "x-zui": {}
                },
                "x-zui": {}
              },
              "updated": {
                "type": "array",
                "description": "The files updated",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "The file's ID. This could be a unique identifier from the external service, or a relative or absolute path, so long as it's unique.",
                      "x-zui": {}
                    },
                    "type": {
                      "type": "string",
                      "const": "file",
                      "x-zui": {}
                    },
                    "name": {
                      "type": "string",
                      "description": "The file's name. This will be displayed in the Botpress UI and be used as the file's name on Files API.\"",
                      "x-zui": {}
                    },
                    "parentId": {
                      "type": "string",
                      "x-zui": {}
                    },
                    "absolutePath": {
                      "type": "string",
                      "description": "The full path of the file",
                      "x-zui": {}
                    },
                    "sizeInBytes": {
                      "type": "number",
                      "x-zui": {}
                    },
                    "lastModifiedDate": {
                      "type": "string",
                      "x-zui": {
                        "precision": null,
                        "offset": false
                      },
                      "format": "date-time",
                      "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$"
                    },
                    "contentHash": {
                      "type": "string",
                      "x-zui": {}
                    }
                  },
                  "required": [
                    "id",
                    "type",
                    "name",
                    "absolutePath"
                  ],
                  "x-zui": {}
                },
                "x-zui": {}
              },
              "deleted": {
                "type": "array",
                "description": "The files and folders deleted",
                "items": {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "The file's ID. This could be a unique identifier from the external service, or a relative or absolute path, so long as it's unique.",
                          "x-zui": {}
                        },
                        "type": {
                          "type": "string",
                          "const": "file",
                          "x-zui": {}
                        },
                        "name": {
                          "type": "string",
                          "description": "The file's name. This will be displayed in the Botpress UI and be used as the file's name on Files API.\"",
                          "x-zui": {}
                        },
                        "parentId": {
                          "type": "string",
                          "x-zui": {}
                        },
                        "absolutePath": {
                          "type": "string",
                          "description": "The full path of the file",
                          "x-zui": {}
                        },
                        "sizeInBytes": {
                          "type": "number",
                          "x-zui": {}
                        },
                        "lastModifiedDate": {
                          "type": "string",
                          "x-zui": {
                            "precision": null,
                            "offset": false
                          },
                          "format": "date-time",
                          "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$"
                        },
                        "contentHash": {
                          "type": "string",
                          "x-zui": {}
                        }
                      },
                      "required": [
                        "id",
                        "type",
                        "name",
                        "absolutePath"
                      ],
                      "x-zui": {}
                    },
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "The folder's ID. This could be a unique identifier from the external service, or a relative or absolute path, so long as it's unique.",
                          "x-zui": {}
                        },
                        "type": {
                          "type": "string",
                          "const": "folder",
                          "x-zui": {}
                        },
                        "name": {
                          "type": "string",
                          "description": "The folder's name. This will be displayed in the Botpress UI and be used as the folder's name on Files API.\"",
                          "x-zui": {}
                        },
                        "parentId": {
                          "type": "string",
                          "x-zui": {}
                        },
                        "absolutePath": {
                          "type": "string",
                          "description": "The full path of the folder",
                          "x-zui": {}
                        }
                      },
                      "required": [
                        "id",
                        "type",
                        "name",
                        "absolutePath"
                      ],
                      "x-zui": {}
                    }
                  ],
                  "x-zui": {}
                },
                "x-zui": {}
              }
            },
            "required": [
              "created",
              "updated",
              "deleted"
            ],
            "x-zui": {}
          }
        },
        "required": [
          "modifiedItems"
        ],
        "x-zui": {}
      }
    }
  },
  "actions": {
    "listItemsInFolder": {
      "title": "List items in folder",
      "description": "List the files and folders in a folder",
      "input": {
        "schema": {
          "type": "object",
          "properties": {
            "folderId": {
              "type": "string",
              "description": "The folder's ID. This could be a unique identifier from the external service, or a relative or absolute path, so long as it's unique.",
              "x-zui": {}
            },
            "filters": {
              "type": "object",
              "properties": {
                "itemType": {
                  "description": "The entity type",
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "file",
                      "x-zui": {}
                    },
                    {
                      "type": "string",
                      "const": "folder",
                      "x-zui": {}
                    }
                  ],
                  "x-zui": {}
                },
                "maxSizeInBytes": {
                  "description": "The file size in bytes, if available",
                  "anyOf": [
                    {
                      "type": "number",
                      "x-zui": {}
                    },
                    {
                      "not": true,
                      "x-zui": {
                        "def": {
                          "typeName": "ZodUndefined"
                        }
                      }
                    }
                  ],
                  "x-zui": {
                    "def": {
                      "typeName": "ZodOptional"
                    }
                  }
                },
                "modifiedAfter": {
                  "description": "The last modified date of the file, if available",
                  "anyOf": [
                    {
                      "type": "string",
                      "x-zui": {
                        "precision": null,
                        "offset": false
                      },
                      "format": "date-time",
                      "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$"
                    },
                    {
                      "not": true,
                      "x-zui": {
                        "def": {
                          "typeName": "ZodUndefined"
                        }
                      }
                    }
                  ],
                  "x-zui": {
                    "def": {
                      "typeName": "ZodOptional"
                    }
                  }
                }
              },
              "required": [],
              "x-zui": {}
            },
            "nextToken": {
              "type": "string",
              "x-zui": {}
            }
          },
          "required": [],
          "x-zui": {}
        }
      },
      "output": {
        "schema": {
          "type": "object",
          "properties": {
            "items": {
              "type": "array",
              "description": "The files and folders in the folder",
              "items": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "The file's ID. This could be a unique identifier from the external service, or a relative or absolute path, so long as it's unique.",
                        "x-zui": {}
                      },
                      "type": {
                        "type": "string",
                        "const": "file",
                        "x-zui": {}
                      },
                      "name": {
                        "type": "string",
                        "description": "The file's name. This will be displayed in the Botpress UI and be used as the file's name on Files API.\"",
                        "x-zui": {}
                      },
                      "parentId": {
                        "type": "string",
                        "x-zui": {}
                      },
                      "absolutePath": {
                        "type": "string",
                        "x-zui": {}
                      },
                      "sizeInBytes": {
                        "type": "number",
                        "x-zui": {}
                      },
                      "lastModifiedDate": {
                        "type": "string",
                        "x-zui": {
                          "precision": null,
                          "offset": false
                        },
                        "format": "date-time",
                        "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$"
                      },
                      "contentHash": {
                        "type": "string",
                        "x-zui": {}
                      }
                    },
                    "required": [
                      "id",
                      "type",
                      "name"
                    ],
                    "x-zui": {
                      "title": "File to transfer"
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "The folder's ID. This could be a unique identifier from the external service, or a relative or absolute path, so long as it's unique.",
                        "x-zui": {}
                      },
                      "type": {
                        "type": "string",
                        "const": "folder",
                        "x-zui": {}
                      },
                      "name": {
                        "type": "string",
                        "description": "The folder's name. This will be displayed in the Botpress UI and be used as the folder's name on Files API.\"",
                        "x-zui": {}
                      },
                      "parentId": {
                        "type": "string",
                        "x-zui": {}
                      },
                      "absolutePath": {
                        "type": "string",
                        "x-zui": {}
                      }
                    },
                    "required": [
                      "id",
                      "type",
                      "name"
                    ],
                    "x-zui": {}
                  }
                ],
                "x-zui": {}
              },
              "x-zui": {}
            },
            "meta": {
              "type": "object",
              "properties": {
                "nextToken": {
                  "type": "string",
                  "x-zui": {}
                }
              },
              "required": [],
              "x-zui": {}
            }
          },
          "required": [
            "items",
            "meta"
          ],
          "x-zui": {}
        }
      }
    },
    "transferFileToBotpress": {
      "title": "Transfer file to Botpress",
      "description": "Transfer a file from an external service to Botpress",
      "input": {
        "schema": {
          "type": "object",
          "properties": {
            "file": {
              "type": "object",
              "description": "The file to transfer",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "The file's ID. This could be a unique identifier from the external service, or a relative or absolute path, so long as it's unique.",
                  "x-zui": {}
                },
                "type": {
                  "type": "string",
                  "const": "file",
                  "x-zui": {}
                },
                "name": {
                  "type": "string",
                  "description": "The file's name. This will be displayed in the Botpress UI and be used as the file's name on Files API.\"",
                  "x-zui": {}
                },
                "parentId": {
                  "type": "string",
                  "x-zui": {}
                },
                "absolutePath": {
                  "type": "string",
                  "x-zui": {}
                },
                "sizeInBytes": {
                  "type": "number",
                  "x-zui": {}
                },
                "lastModifiedDate": {
                  "type": "string",
                  "x-zui": {
                    "precision": null,
                    "offset": false
                  },
                  "format": "date-time",
                  "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$"
                },
                "contentHash": {
                  "type": "string",
                  "x-zui": {}
                }
              },
              "required": [
                "id",
                "type",
                "name"
              ],
              "x-zui": {
                "title": "File to transfer"
              }
            },
            "fileKey": {
              "type": "string",
              "description": "The file key to use in Botpress",
              "x-zui": {
                "title": "File key"
              }
            }
          },
          "required": [
            "file",
            "fileKey"
          ],
          "x-zui": {}
        }
      },
      "output": {
        "schema": {
          "type": "object",
          "properties": {
            "botpressFileId": {
              "type": "string",
              "description": "The file ID of the uploaded file on Botpress",
              "x-zui": {}
            }
          },
          "required": [
            "botpressFileId"
          ],
          "x-zui": {}
        }
      }
    }
  },
  "channels": {}
}
